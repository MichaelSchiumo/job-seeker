{"ast":null,"code":"import _defineProperty from\"/Users/michael/Desktop/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/michael/Desktop/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/michael/Desktop/contact-keeper/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState,useContext,useEffect}from'react';import AuthContext from'../../context/auth/AuthContext';import AlertContext from'../../context/alert/AlertContext';var Login=function Login(props){var authContext=useContext(AuthContext);var alertContext=useContext(AlertContext);var setAlert=alertContext.setAlert;var login=authContext.login,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;useEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='Invalid Credentials.'){setAlert(error,'danger');setUser(_objectSpread(_objectSpread({},user),{},{email:'',password:''}));clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var email=user.email,password=user.password;var onChange=function onChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(event){event.preventDefault();if(email===''||password===''){setAlert('Please fill in all fields.','danger');}else{login({email:email,password:password});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Account \",/*#__PURE__*/React.createElement(\"span\",{className:\"text-primary\"},\"Login\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,required:true})),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Login\",className:\"btn btn-primary btn-block\"})));};export default Login;","map":{"version":3,"sources":["/Users/michael/Desktop/contact-keeper/client/src/components/auth/Login.js"],"names":["React","useState","useContext","useEffect","AuthContext","AlertContext","Login","props","authContext","alertContext","setAlert","login","error","clearErrors","isAuthenticated","history","push","setUser","user","email","password","onChange","e","target","name","value","onSubmit","event","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport AuthContext from '../../context/auth/AuthContext';\nimport AlertContext from '../../context/alert/AlertContext';\n\nconst Login = (props) => {\n  const authContext = useContext(AuthContext);\n  const alertContext = useContext(AlertContext);\n\n  const { setAlert } = alertContext;\n  const { login, error, clearErrors, isAuthenticated } = authContext;\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      props.history.push('/');\n    }\n\n    if (error === 'Invalid Credentials.') {\n      setAlert(error, 'danger');\n      setUser({\n        ...user,\n        email: '',\n        password: '',\n      });\n      clearErrors();\n    }\n    // eslint-disable-next-line\n  }, [error, isAuthenticated, props.history]);\n\n  const [user, setUser] = useState({\n    email: '',\n    password: '',\n  });\n\n  const { email, password } = user;\n\n  const onChange = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    if (email === '' || password === '') {\n      setAlert('Please fill in all fields.', 'danger');\n    } else {\n      login({\n        email,\n        password,\n      });\n    }\n  };\n\n  return (\n    <div className='form-container'>\n      <h1>\n        Account <span className='text-primary'>Login</span>\n      </h1>\n      <form onSubmit={onSubmit}>\n        <div className='form-group'>\n          <label htmlFor='email'>Email</label>\n          <input\n            type='email'\n            name='email'\n            value={email}\n            onChange={onChange}\n            required\n          />\n        </div>\n        <div className='form-group'>\n          <label htmlFor='password'>Password</label>\n          <input\n            type='password'\n            name='password'\n            value={password}\n            onChange={onChange}\n            required\n          />\n        </div>\n        <input\n          type='submit'\n          value='Login'\n          className='btn btn-primary btn-block'\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}